<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart</title>
<link rel="stylesheet" href="cart.css">
</head>
<body>

<nav class="navbar">
    <div class="logo">My Store</div>
    <ul class="nav-links">
        <li><a href="home.html">Home</a></li>
        <li><a href="cart.html">Cart (<span id="cart-count">0</span>)</a></li>
    </ul>
</nav>

<h1>Your Cart</h1>
<div id="cartItems" class="cart-items"></div>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];
document.getElementById('cart-count').innerText = cart.length;

const cartItems = document.getElementById('cartItems');
if(cart.length === 0){
    cartItems.innerHTML = "<p>Your cart is empty.</p>";
} else {
    cart.forEach((item, index) => {
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('cart-item');
        itemDiv.innerHTML = `
            <img src="${item.img}" alt="${item.title}" class="cart-img">
            <div class="cart-details">
                <h2>${item.title}</h2>
                <p>${item.desc}</p>
                <p class="price">${item.price}</p>
                <button class="remove-btn" data-index="${index}">Remove</button>
            </div>
        `;
        cartItems.appendChild(itemDiv);
    });
}

// Remove item functionality
document.querySelectorAll('.remove-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
        const index = e.target.dataset.index;
        cart.splice(index, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        location.reload(); // refresh page to update cart
    });
});
</script>

</body>
</html>
